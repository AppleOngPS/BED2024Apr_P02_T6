<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recipe Page</title>
    <!-- Link to external CSS files -->
    <link rel="stylesheet" href="../css/recipe.css" />
    <link rel="stylesheet" href="../css/navigation.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <header>
      <!-- Navigation bar will be included here -->
    </header>
    <main>
      <!-- Category section -->
      <section class="categories">
        <h2>Categories</h2>
        <div class="category-buttons">
          <!-- Buttons for filtering recipes by category -->
          <button class="category" onclick="fetchRecipesByCategory('low carb')">
            Low Carb
          </button>
          <button
            class="category"
            onclick="fetchRecipesByCategory('vegetarian')"
          >
            Vegetarian
          </button>
          <button
            class="category"
            onclick="fetchRecipesByCategory('gluten free')"
          >
            Gluten Free
          </button>
          <button class="category" onclick="fetchRecipesByCategory('local')">
            Local
          </button>
          <button
            class="category"
            onclick="fetchRecipesByCategory('smoothies and shakes')"
          >
            Smoothies and Shakes
          </button>
          <button class="category" onclick="fetchRecipes()">All</button>
        </div>
      </section>

      <div class="content-wrapper">
        <!-- Sidebar with filters -->
        <aside class="filters">
          <h2>Filters</h2>
          <div class="filter-options">
            <!-- Calorie filter -->
            <div class="filter-box">
              <div class="filter-header">
                <h3 class="filter-title">Calories_______</h3>
                <button class="filter-toggle"></button>
              </div>
              <div class="filter-content">
                <label for="calorieMin">Min Calories:</label>
                <input type="number" id="calorieMin" min="0" />
                <label for="calorieMax">Max Calories:</label>
                <input type="number" id="calorieMax" min="0" />
                <button onclick="filterByCalories()">Apply</button>
              </div>
            </div>

            <!-- Nutrient filter -->
            <div class="filter-box">
              <div class="filter-header">
                <h3 class="filter-title">Nutrients______</h3>
                <button class="filter-toggle"></button>
              </div>
              <div class="filter-content">
                <label for="nutrientSelect">Nutrient:</label>
                <select id="nutrientSelect">
                  <option value="carbs">Carbs</option>
                  <option value="protein">Protein</option>
                  <option value="fats">Fats</option>
                </select>
                <label for="nutrientMin">Min:</label>
                <input type="number" id="nutrientMin" min="0" />
                <label for="nutrientMax">Max:</label>
                <input type="number" id="nutrientMax" min="0" />
                <button onclick="filterByNutrient()">Apply</button>
              </div>
            </div>

            <!-- Search filter -->
            <div class="filter-box">
              <div class="filter-header">
                <h3 class="filter-title">Search_________</h3>
                <button class="filter-toggle"></button>
              </div>
              <div class="filter-content">
                <label for="ingredientSearch">By Ingredient:</label>
                <input type="text" id="ingredientSearch" />
                <button onclick="searchByIngredient()">Search</button>
                <label for="nameSearch">By Name:</label>
                <input type="text" id="nameSearch" />
                <button onclick="searchByName()">Search</button>
              </div>
            </div>

            <!-- Other options -->
            <div class="filter-box">
              <div class="filter-header">
                <h3 class="filter-title">Others_________</h3>
                <button class="filter-toggle"></button>
              </div>
              <div class="filter-content">
                <button onclick="fetchRandomRecipe()">Get Random Recipe</button>
              </div>
            </div>
          </div>
        </aside>
        <!-- Results section -->
        <section class="results">
          <h2>Results</h2>
          <div class="recipe-list" id="recipe-list">
            <!-- Recipe items will be dynamically added here -->
          </div>
          <div id="pagination"></div>
        </section>
      </div>
      <!-- Add recipe button -->
      <section class="add-recipe">
        <button onclick="openAddRecipeModal()">Add Recipe</button>
      </section>

      <!-- Add Recipe Modal -->
      <div id="addRecipeModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeAddRecipeModal()">&times;</span>
          <h2>Add Recipe</h2>
          <form id="addRecipeForm">
            <!-- Form fields for adding a new recipe -->
            <label for="recipe-name">Name:</label>
            <input type="text" id="recipe-name" name="name" required />
            <label for="recipe-category">Category:</label>
            <input type="text" id="recipe-category" name="category" required />
            <label for="recipe-description">Description:</label>
            <input id="recipe-description" name="description" required />
            <label for="recipe-ingredients">Ingredients:</label>
            <input id="recipe-ingredients" name="ingredients" required />
            <label for="recipe-calories">Calories:</label>
            <input
              type="number"
              id="recipe-calories"
              name="calories"
              required
            />
            <label for="recipe-carbs">Carbs:</label>
            <input type="number" id="recipe-carbs" name="carbs" required />
            <label for="recipe-protein">Protein:</label>
            <input type="number" id="recipe-protein" name="protein" required />
            <label for="recipe-fats">Fats:</label>
            <input type="number" id="recipe-fats" name="fats" required />
            <label for="recipe-image">Image:</label>
            <input
              type="file"
              id="recipe-image"
              name="image"
              accept="image/*"
            />
            <button type="submit">Add Recipe</button>
          </form>
        </div>
      </div>
      <!-- Success Modal -->
      <div id="successModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h2>Success!</h2>
          <p id="successMessage"></p>
          <button onclick="closeSuccessModal()">OK</button>
        </div>
      </div>

      <!-- Error Modal -->
      <div id="errorModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p id="errorMessage"></p>
        </div>
      </div>
      <!-- Recipe Details Modal -->
      <div id="recipeModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeRecipeModal()">&times;</span>
          <button id="editRecipeBtn" onclick="openEditRecipeModal()">
            Edit Recipe
          </button>
          <h2 id="modal-recipe-name"></h2>
          <p>
            <strong>Category:</strong> <span id="modal-recipe-category"></span>
          </p>
          <p><strong>Description:</strong></p>
          <p id="modal-recipe-description"></p>
          <p><strong>Ingredients:</strong></p>
          <p id="modal-recipe-ingredients"></p>
        </div>
      </div>
      <!-- Add a new Edit Recipe Modal -->
      <div id="editRecipeModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeEditRecipeModal()">&times;</span>
          <h2>Edit Recipe</h2>
          <form id="editRecipeForm" onsubmit="updateRecipe(event)">
            <input type="hidden" id="edit-recipe-id" name="id" />
            <label for="edit-recipe-name">Name:</label>
            <input type="text" id="edit-recipe-name" name="name" required />
            <label for="edit-recipe-category">Category:</label>
            <input
              type="text"
              id="edit-recipe-category"
              name="category"
              required
            />

            <label for="edit-recipe-description">Description:</label>
            <input
              type="text"
              id="edit-recipe-description"
              name="description"
              required
            />

            <label for="edit-recipe-ingredients">Ingredients:</label>
            <input
              type="text"
              id="edit-recipe-ingredients"
              name="ingredients"
              required
            />

            <label for="edit-recipe-calories">Calories:</label>
            <input
              type="number"
              id="edit-recipe-calories"
              name="calories"
              required
            />
            <label for="edit-recipe-carbs">Carbs:</label>
            <input type="number" id="edit-recipe-carbs" name="carbs" required />
            <label for="edit-recipe-protein">Protein:</label>
            <input
              type="number"
              id="edit-recipe-protein"
              name="protein"
              required
            />
            <label for="edit-recipe-fats">Fats:</label>
            <input type="number" id="edit-recipe-fats" name="fats" required />
            <button type="submit">Update Recipe</button>
          </form>
        </div>
      </div>
      <!-- Confirm Delete Modal -->
      <div id="confirmModal" class="modal">
        <div class="modal-content">
          <h2>Confirm Delete</h2>
          <p>Are you sure you want to delete this recipe?</p>
          <div class="button-container">
            <button id="cancelDelete" class="cancel-button">Cancel</button>
            <button id="confirmDelete" class="confirm-button">Delete</button>
          </div>
        </div>
      </div>
    </main>
    <!-- JavaScript files -->
    <script src="../js/recipe.js"></script>
    <script src="../js/navigation.js"></script>
    <script src="../js/footer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
  </body>
</html>
